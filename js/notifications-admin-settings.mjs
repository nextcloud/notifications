/*! third party licenses: js/vendor.LICENSE.txt */
import{V as r}from"./style-BPyjX2Wp.chunk.mjs";import{n as d,t as o,N as _,c as l,v as p,a as g,s as h,l as m}from"./_plugin-vue2_normalizer-D3VaCqfD.chunk.mjs";import{N as v}from"./NcSettingsSection-EC3SmiDX-u6Ae-Jo7.chunk.mjs";const c={EMAIL_SEND_OFF:0,EMAIL_SEND_HOURLY:1,EMAIL_SEND_3HOURLY:2,EMAIL_SEND_DAILY:3,EMAIL_SEND_WEEKLY:4},E={name:"AdminSettings",components:{NcCheckboxRadioSwitch:_,NcSettingsSection:v},data(){return{batchtime_options:[{text:o("notifications","Never"),value:c.EMAIL_SEND_OFF},{text:o("notifications","1 hour"),value:c.EMAIL_SEND_HOURLY},{text:o("notifications","3 hours"),value:c.EMAIL_SEND_3HOURLY},{text:o("notifications","1 day"),value:c.EMAIL_SEND_DAILY},{text:o("notifications","1 week"),value:c.EMAIL_SEND_WEEKLY}],config:m("notifications","config")}},methods:{t:o,async updateSettings(){try{const i=new FormData;i.append("batchSetting",this.config.setting_batchtime),i.append("soundNotification",this.config.sound_notification?"yes":"no"),i.append("soundTalk",this.config.sound_talk?"yes":"no"),await l.post(p("apps/notifications/api/v2/settings/admin"),i),g(o("notifications","Your settings have been updated."))}catch(i){h(o("notifications","An error occurred while updating your settings.")),console.error(i)}}}};var S=function(){var i=this,a=i._self._c;return a("NcSettingsSection",{attrs:{name:i.t("notifications","Notifications defaults"),description:i.t("notifications","Configure the default notification settings for new users")}},[a("p",[a("label",{staticClass:"notification-frequency__label",attrs:{for:"notify_setting_batchtime"}},[i._v(" "+i._s(i.t("notifications","Send email reminders about unhandled notifications after:"))+" ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:i.config.setting_batchtime,expression:"config.setting_batchtime"}],staticClass:"notification-frequency__select",attrs:{id:"notify_setting_batchtime"},on:{change:[function(e){var u=Array.prototype.filter.call(e.target.options,function(s){return s.selected}).map(function(s){var f="_value"in s?s._value:s.value;return f});i.$set(i.config,"setting_batchtime",e.target.multiple?u:u[0])},function(e){return i.updateSettings()}]}},i._l(i.batchtime_options,function(e){return a("option",{key:e.value,domProps:{value:e.value}},[i._v(" "+i._s(e.text)+" ")])}),0)]),a("NcCheckboxRadioSwitch",{attrs:{checked:i.config.sound_notification},on:{"update:checked":[function(e){return i.$set(i.config,"sound_notification",e)},i.updateSettings]}},[i._v(" "+i._s(i.t("notifications","Play sound when a new notification arrives"))+" ")]),a("NcCheckboxRadioSwitch",{attrs:{checked:i.config.sound_talk},on:{"update:checked":[function(e){return i.$set(i.config,"sound_talk",e)},i.updateSettings]}},[i._v(" "+i._s(i.t("notifications","Play sound when a call started (requires Nextcloud Talk)"))+" ")])],1)},N=[],L=d(E,S,N,!1,null,null);const y=L.exports;r.prototype.t=t,r.prototype.n=n,new r({el:"#notifications-admin-settings",render:i=>i(y)});
//# sourceMappingURL=notifications-admin-settings.mjs.map
