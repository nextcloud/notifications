/*! third party licenses: js/vendor.LICENSE.txt */
import{r as _,a as h,o as d,w as l,b as u,e as r,h as E,t as c,f as m,F as S,i as N,v as L,j as g,c as b}from"./style-BWtpXOPA.chunk.mjs";import{_ as v,t as n,N as A,c as y,v as D,a as I,s as w,l as M}from"./_plugin-vue_export-helper-BaJlQS7I.chunk.mjs";import{N as k}from"./NcSettingsSection-B1XS0NQu-DItGfr4u.chunk.mjs";const s={EMAIL_SEND_OFF:0,EMAIL_SEND_HOURLY:1,EMAIL_SEND_3HOURLY:2,EMAIL_SEND_DAILY:3,EMAIL_SEND_WEEKLY:4},x={name:"AdminSettings",components:{NcCheckboxRadioSwitch:A,NcSettingsSection:k},data(){return{batchtime_options:[{text:n("notifications","Never"),value:s.EMAIL_SEND_OFF},{text:n("notifications","1 hour"),value:s.EMAIL_SEND_HOURLY},{text:n("notifications","3 hours"),value:s.EMAIL_SEND_3HOURLY},{text:n("notifications","1 day"),value:s.EMAIL_SEND_DAILY},{text:n("notifications","1 week"),value:s.EMAIL_SEND_WEEKLY}],config:M("notifications","config")}},methods:{t:n,async updateSettings(){try{const e=new FormData;e.append("batchSetting",this.config.setting_batchtime),e.append("soundNotification",this.config.sound_notification?"yes":"no"),e.append("soundTalk",this.config.sound_talk?"yes":"no"),await y.post(D("apps/notifications/api/v2/settings/admin"),e),I(n("notifications","Your settings have been updated."))}catch(e){w(n("notifications","An error occurred while updating your settings.")),console.error(e)}}}},U={for:"notify_setting_batchtime",class:"notification-frequency__label"},V=["value"];function Y(e,i,O,R,a,o){const f=_("NcCheckboxRadioSwitch"),p=_("NcSettingsSection");return d(),h(p,{name:o.t("notifications","Notifications defaults"),description:o.t("notifications","Configure the default notification settings")},{default:l(()=>[u("p",null,[u("label",U,c(o.t("notifications","Send email reminders about unhandled notifications after:")),1),E(u("select",{id:"notify_setting_batchtime","onUpdate:modelValue":i[0]||(i[0]=t=>a.config.setting_batchtime=t),class:"notification-frequency__select",onChange:i[1]||(i[1]=t=>o.updateSettings())},[(d(!0),m(S,null,N(a.batchtime_options,t=>(d(),m("option",{key:t.value,value:t.value},c(t.text),9,V))),128))],544),[[L,a.config.setting_batchtime]])]),r(f,{modelValue:a.config.sound_notification,"onUpdate:modelValue":[i[2]||(i[2]=t=>a.config.sound_notification=t),o.updateSettings]},{default:l(()=>[g(c(o.t("notifications","Play sound when a new notification arrives")),1)]),_:1},8,["modelValue","onUpdate:modelValue"]),r(f,{modelValue:a.config.sound_talk,"onUpdate:modelValue":[i[3]||(i[3]=t=>a.config.sound_talk=t),o.updateSettings]},{default:l(()=>[g(c(o.t("notifications","Play sound when a call started (requires Nextcloud Talk)")),1)]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1},8,["name","description"])}const F=v(x,[["render",Y]]);b(F).mount("#notifications-admin-settings");
//# sourceMappingURL=notifications-admin-settings.mjs.map
